<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>Blank</title>
        <!-- Favicon icon -->
        <link rel="icon" type="image/png" sizes="16x16" href="images/favicon.png">
        <!-- Custom Stylesheet -->
        <link href="css/style.css" rel="stylesheet">
        
        <link rel="stylesheet" href="./plugins/file-button/file-button.css">
    </head>
    <body>
        <!--*******************
            Preloader start
            ********************-->
        <div id="preloader">
            <div class="loader">
                <svg class="circular" viewBox="25 25 50 50">
                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" />
                </svg>
            </div>
        </div>
        <!--*******************
            Preloader end
            ********************-->
        <div id="main-wrapper">
            <!--**********************************
                Nav header start
                ***********************************-->
            <div class="nav-header">
                <div class="brand-logo">
                    <a href="index.html" >
                    <b class="logo-abbr"><img src="images/logo.png" alt=""> </b>
                    <span class="logo-compact"><img src="./images/logo-compact.png" alt=""></span>
                    <span class="brand-title">
                    <img src="images/logo-text.png" style="margin-top: -8px" alt="">
                    </span>
                    </a>
                </div>
            </div>
            <!--**********************************
                Nav header end
                ***********************************-->
            <!--**********************************
                Header start
                ***********************************-->
            <div class="header">
                <div class="header-content clearfix">
                    <div class="nav-control">
                        <div class="hamburger">
                            <span class="toggle-icon"><i class="icon-menu"></i></span>
                        </div>
                    </div>
                    <div class="header-left">
                        <div class="input-group icons">
                            <div class="input-group-prepend">
                                <span class="input-group-text bg-transparent border-0 pr-2 pr-sm-3" id="basic-addon1"><i class="mdi mdi-magnify"></i></span>
                            </div>
                            <input type="search" class="form-control" placeholder="Search Dashboard" aria-label="Search Dashboard">
                            <div class="drop-down animated flipInX d-md-none">
                                <form action="#">
                                    <input type="text" class="form-control" placeholder="Search">
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="header-right">
                        <ul class="clearfix">
                            <li class="icons dropdown d-none d-md-flex">
                                <a href="javascript:void(0)" class="log-user"  data-toggle="dropdown">
                                <span>Day</span>  <i class="fa fa-angle-down f-s-14" aria-hidden="true"></i>
                                </a>
                                <div class="drop-down dropdown-language animated fadeIn  dropdown-menu">
                                    <div class="dropdown-content-body">
                                        <ul>
                                            <li><a style="display: block;" href="javascript:void()">Day</a></li>
                                            <li><a style="display: block;" href="javascript:void()">Night</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="icons dropdown">
                                <div class="user-img c-pointer position-relative"   data-toggle="dropdown">
                                    <span class="activity active"></span>
                                    <img src="images/user/1.png" height="40" width="40" alt="">
                                </div>
                                <div class="drop-down dropdown-profile animated fadeIn dropdown-menu">
                                    <div class="dropdown-content-body">
                                        <ul>
                                            <li>
                                                <a href="app-profile.html"><i class="icon-user"></i> <span>Profile</span></a>
                                            </li>
                                            <hr class="my-2">
                                            <li>
                                                <a href="page-lock.html"><i class="icon-lock"></i> <span>Lock Screen</span></a>
                                            </li>
                                            <li><a href="page-login.html"><i class="icon-key"></i> <span>Logout</span></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!--**********************************
                Header end ti-comment-alt
                ***********************************-->
            <!--**********************************
                Sidebar start
                ***********************************-->
            <div class="nk-sidebar">
                <div class="nk-nav-scroll">
                    <ul class="metismenu" id="menu">
                        <li class="nav-label">Dashboard</li>
                        <li class="mega-menu mega-menu-sm">
                            <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="icon-speedometer menu-icon"></i><span class="nav-text">Supplier</span>
                            </a>
                            <ul aria-expanded="false">
                                <li><a href="./layout-blank.html">Add New Supplier</a></li>
                            </ul>
                        </li>
                        <li class="mega-menu mega-menu-sm">
                            <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="icon-globe-alt menu-icon"></i><span class="nav-text">Customer</span>
                            </a>
                            <ul aria-expanded="false">
                                <li><a href="./layout-blank.html">Add New Customer</a></li>
                            </ul>
                        </li>
                        <li class="mega-menu mega-menu-sm">
                            <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="icon-grid menu-icon"></i><span class="nav-text">Care Home</span>
                            </a>
                            <ul aria-expanded="false">
                                <li><a href="./add-carehome.html">Add New Care Home</a></li>
                                <li><a href="./db-carehome.html">Care Home Database</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <!--**********************************
                Sidebar end
                ***********************************-->
            <!--**********************************
                Content body start
                ***********************************-->
            <div class="content-body">
                <div class="row page-titles mx-0">
                    <div class="col p-md-0">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0)">Dashboard</a></li>
                            <li class="breadcrumb-item active"><a href="javascript:void(0)">Home</a></li>
                        </ol>
                    </div>
                </div>
                <!-- row -->
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="upload">
                                <div class="upload-files">
                                    <header>
                                        <p>
                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                                            <span class="up">Compulsory</span>
                                            <span class="load">Document</span>
                                        </p>
                                    </header>
                                    <div class="body drop">
                                        <i class="fa fa-file-text-o pointer-none" aria-hidden="true"></i>
                                        <p class="pointer-none"><b>Drag and drop</b> files here <br /> or <a href="" class="triggerFile">browse</a> to begin the upload</p>
                                        <input type="file"/>
                                    </div>
                                    <footer>
                                        <div class="divider">
                                            <span>
                                                <AR>FILES</AR>
                                            </span>
                                        </div>
                                        <div class="list-files">
                                            <!--   template   -->
                                        </div>
                                        <button class="importar">UPDATE FILES</button>
                                    </footer>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="upload">
                                <div class="upload-files">
                                    <header>
                                        <p>
                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                                            <span class="up">Compulsory</span>
                                            <span class="load">Document</span>
                                        </p>
                                    </header>
                                    <div class="body drop">
                                        <i class="fa fa-file-text-o pointer-none" aria-hidden="true"></i>
                                        <p class="pointer-none"><b>Drag and drop</b> files here <br /> or <a href="" class="triggerFile">browse</a> to begin the upload</p>
                                        <input type="file"/>
                                    </div>
                                    <footer>
                                        <div class="divider">
                                            <span>
                                                <AR>FILES</AR>
                                            </span>
                                        </div>
                                        <div class="list-files">
                                            <!--   template   -->
                                        </div>
                                        <button class="importar">UPDATE FILES</button>
                                    </footer>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="upload">
                                <div class="upload-files">
                                    <header>
                                        <p>
                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                                            <span class="up">Compulsory</span>
                                            <span class="load">Document</span>
                                        </p>
                                    </header>
                                    <div class="body drop">
                                        <i class="fa fa-file-text-o pointer-none" aria-hidden="true"></i>
                                        <p class="pointer-none"><b>Drag and drop</b> files here <br /> or <a href="" class="triggerFile">browse</a> to begin the upload</p>
                                        <input type="file"/>
                                    </div>
                                    <footer>
                                        <div class="divider">
                                            <span>
                                                <AR>FILES</AR>
                                            </span>
                                        </div>
                                        <div class="list-files">
                                            <!--   template   -->
                                        </div>
                                        <button class="importar">UPDATE FILES</button>
                                    </footer>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="upload">
                                <div class="upload-files">
                                    <header>
                                        <p>
                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                                            <span class="up">Compulsory</span>
                                            <span class="load">Document</span>
                                        </p>
                                    </header>
                                    <div class="body drop">
                                        <i class="fa fa-file-text-o pointer-none" aria-hidden="true"></i>
                                        <p class="pointer-none"><b>Drag and drop</b> files here <br /> or <a href="" class="triggerFile">browse</a> to begin the upload</p>
                                        <input type="file"/>
                                    </div>
                                    <footer>
                                        <div class="divider">
                                            <span>
                                                <AR>FILES</AR>
                                            </span>
                                        </div>
                                        <div class="list-files">
                                            <!--   template   -->
                                        </div>
                                        <button class="importar">UPDATE FILES</button>
                                    </footer>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- #/ container -->
            </div>
            <!--**********************************
                Content body end
                ***********************************-->
            <!--**********************************
                Footer start
                ***********************************-->
            <div class="footer">
                <div class="copyright">
                    <p>Copyright &copy; Designed & Developed by Easy Rich</p>
                </div>
            </div>
            <!--**********************************
                Footer end
                ***********************************-->
        </div>
        <!--**********************************
            Main wrapper end
            ***********************************-->
        <!--**********************************
            Scripts
            ***********************************-->
        <script src="plugins/common/common.min.js"></script>
        <script src="js/custom.min.js"></script>
        <script src="js/settings.js"></script>
        <script src="js/gleek.js"></script>
        <script src="js/styleSwitcher.js"></script>
        <script>

            $(document).ready(function() {
                //Init
                function handleFileSelect(evt) {
                    const files = evt.target.files; // FileList object
                    console.log(files);
            
                    //files template
                    let template = `${Object.keys(files)
                        .map(file => `<div class="file file--${file}">
                 <div class="name"><span>${files[file].name}</span></div>
                 <div class="progress active"></div>
                 <div class="done">
                <a href="" target="_blank">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000">
                    <g><path id="path" d="M500,10C229.4,10,10,229.4,10,500c0,270.6,219.4,490,490,490c270.6,0,490-219.4,490-490C990,229.4,770.6,10,500,10z M500,967.7C241.7,967.7,32.3,758.3,32.3,500C32.3,241.7,241.7,32.3,500,32.3c258.3,0,467.7,209.4,467.7,467.7C967.7,758.3,758.3,967.7,500,967.7z M748.4,325L448,623.1L301.6,477.9c-4.4-4.3-11.4-4.3-15.8,0c-4.4,4.3-4.4,11.3,0,15.6l151.2,150c0.5,1.3,1.4,2.6,2.5,3.7c4.4,4.3,11.4,4.3,15.8,0l308.9-306.5c4.4-4.3,4.4-11.3,0-15.6C759.8,320.7,752.7,320.7,748.4,325z"</g>
                    </svg>
                                    </a>
                 </div>
                </div>`)
                        .join("")}`;

                    console.log("hey");
            

                    var current = $(evt.target).parent().parent().parent();
            
                    current.find(".drop").addClass("hidden");
                    current.find("footer").addClass("hasFiles");
                    current.find(".importar").addClass("active");
                    setTimeout(() => {
                        current.find(".list-files").html(template);
                    }, 1000);
            
                    Object.keys(files).forEach(file => {
                        let load = 2000 + (file * 2000); // fake load
                        setTimeout(() => {
                            current.find(`.file--${file}`).find(".progress").removeClass("active");
                            current.find(`.file--${file}`).find(".done").addClass("anim");
                        }, load);
                    });
                }
            
                // trigger input
                $(".triggerFile").click(function(evt) {
                    evt.preventDefault();
                    $(this).parent().parent().find("input[type=file]").click();
                });
            
                // drop events
                $(".drop").on("dragleave", function(evt) {
                    $(this).parent().parent().find(".drop").removeClass("active");
                    evt.preventDefault();
                });
                $(".drop").on("dragover", function(evt) {
                    $(this).parent().parent().find(".drop").addClass("active");
                    evt.preventDefault();
                });

                $(".drop").on("dragenter", function(evt) {
                    $(this).parent().parent().find(".drop").addClass("active");
                    evt.preventDefault();
                });
                $(".drop").on("drop", function(evt) {

                    console.log(evt.originalEvent.dataTransfer.files);

                    $(this).parent().parent().parent().find("input[type=file]")[0].files = evt.originalEvent.dataTransfer.files;
                    console.log($(this).parent().parent().parent().find("input[type=file]").files);
                    //$(this).parent().parent().parent().find("input[type=file]").attr("files", evt.originalEvent.dataTransfer.files);
                    $(this).parent().parent().parent().find("input[type=file]").change();
                    evt.preventDefault();
                });
            
                //upload more
                $(".importar").click(function() {

                    var current = $(this).parent().parent().parent();

                    current.find(".list-files").html("");
                    current.find("footer").removeClass("hasFiles");
                    current.find(".importar").removeClass("active");
                    current.find(".drop").removeClass("active");
            
                    setTimeout(() => {
                        current.find(".drop").removeClass("hidden");
                    }, 500);
                });
            
                // input change
                $("input[type=file]").on('change', function(evt) {
                    handleFileSelect(evt);
                });
            });
            
                
        </script>
    </body>
</html>